# TIL - 2025年11月27日

## 今日のメモ
勉強時間：9時間

今日のmassanのイベントでgem 'swimming_fish'の良さにやっと気づく。これから使っていきたい

# 🏃‍♂️ 散歩記録・健康管理アプリ「てくメモ」

日々の散歩を楽しく記録し、健康管理をサポートするWebアプリケーションです。
「継続したくなる体験」を重視し、直感的なUIとゲーミフィケーション要素を取り入れました。

## ✨ こだわりの実装ポイント

### 1. 堅牢なテスト環境の構築 (CI/CD意識)
開発初期に発生したシステムテスト（System Spec）の不安定さに向き合い、以下の改善を行いました。
- **Docker環境でのChrome安定化:** `no-sandbox`, `disable-dev-shm-usage` オプションなどを適切に設定し、CI環境でも安定して動作するヘッドレスブラウザ環境を構築。
- **Flaky Testの排除:** 画面遷移や非同期処理のタイミングによるテスト落ちを防ぐため、`have_content` 等を用いた適切な待機処理（Wait）を実装。
- **保守性の高いセレクタ:** ラベル名依存によるテストの脆さを解消するため、HTML ID指定による堅牢な要素特定へリファクタリング。

### 2. フロントエンド・パフォーマンスとUXの最適化
ユーザーにストレスを与えない「質感」のあるUIを目指しました。
- **Core Web Vitals対策 (CLS/FOUT防止):** Google Fonts（日本語・アイコン）の読み込みにおいて `preconnect` と `preload` を活用。読み込み中のレイアウト崩れやチラつき（FOUT）を極限まで排除しました。
- **リッチなアニメーション演出:** Tailwind CSSの設定（`tailwind.config.js`）をカスタマイズし、独自のキーフレームとアニメーションを定義。ランキング画面のトロフィー演出では、複数のアニメーション周期を統一し、画面全体が呼吸するような一体感のある演出を実装しました。
- **アイコンの視認性向上:** Material Symbolsの可変フォント（Variable Font）設定をCSSで厳密に制御し、意図しない塗りつぶしを防ぎつつ、デザインに合ったウェイト調整を行いました。

### 3. ユーザー視点での機能改善
フィードバックや自身の利用体験に基づき、使い勝手を向上させました。
- **目標設定機能:** ユーザーが自身のペースに合わせて「目標距離」を設定できる機能を実装。ダッシュボードのプログレスバーとリアルタイムに連動させ、達成感を可視化しました。
- **Stretched Link パターン:** カード型UIにおいて、全体のクリック判定と内部リンク（設定ボタン）の判定を両立させるため、z-indexとCSS配置を工夫し、直感的な操作性を実現しました。
- **ダークモード完全対応:** OS設定に依存せず、画面遷移時のフラッシュ（FOUC）を防ぐ初期化スクリプトを導入し、目に優しいUIを提供。

## 💡 工夫した点・苦労した点
- **エラー解決プロセス:** 開発中に発生した `Selenium::WebDriver::Error` やレイアウト崩れに対し、ログ分析と検証を繰り返し、根本原因（プロセスのゾンビ化やCSSの読み込み順序など）を特定して解決しました。
- **可読性の高いコード:** 将来の保守を見据え、マジックナンバーの排除や、意図が伝わるコメント（特に設定ファイル周り）を残すことを意識しました。また、Rubyのスタイルガイド（RuboCop）に準拠し、ダブルクォート統一などコードの一貫性を保っています。

## 気分・状態
今日の気分: 😁 (5: とても気分が良い)
今日のモチベーション: 🌈 (5: とてもやる気がある)
目標の進捗: 🌿 (4: よく進んだ)

---
*Generated by ちいくさ日記*  
*Date: 2025-11-27*  
*Created: 2025-11-27 23:09:22*
